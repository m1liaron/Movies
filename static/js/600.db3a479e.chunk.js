"use strict";(self.webpackChunkmovies_db=self.webpackChunkmovies_db||[]).push([[600],{5600:(e,t,n)=>{n.r(t),n.d(t,{default:()=>w});var i=n(5043),o=n(5475),s=n(2110),r=n(6591),a=n(6494),l=n(5865),c=n(7600),d=n(1906),u=n(7739),v=n(7392),h=n(6520),x=n(579);function p(e){let{id:t,title:n,overview:i,popularity:p,enableUserActions:m,onAddFavorite:A,image:g="/thumbnail.png"}=e;return(0,x.jsxs)(s.A,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,x.jsx)(r.A,{component:"div",image:g,sx:{pt:"56.25%"}}),(0,x.jsxs)(a.A,{sx:{flexGrow:1},children:[(0,x.jsx)(l.A,{variant:"h5",gutterBottom:!0,children:n}),(0,x.jsx)(l.A,{variant:"body2",color:"text.secondary",children:i}),(0,x.jsx)(l.A,{variant:"button",display:"block",mt:2,children:p})]}),(0,x.jsxs)(c.A,{children:[(0,x.jsx)(d.A,{component:o.N_,to:"/movies/".concat(t),color:"secondary",children:"Details"}),m&&(0,x.jsx)(u.A,{title:"Add to favorites",children:(0,x.jsx)(v.A,{onClick:()=>null===A||void 0===A?void 0:A(t),children:(0,x.jsx)(h.A,{})})})]})]})}const m=(0,i.memo)(p);var A=n(8903),g=n(9252),j=n(611);var f=n(8118),y=n(5447);const b=(0,i.lazy)((()=>Promise.all([n.e(340),n.e(487)]).then(n.bind(n,4487)))),k={page:1,filters:{}};function w(){var e;const[t,n]=(0,i.useState)(k),{data:o}=(0,f.EA)(),{data:s,isFetching:r}=(0,f.Lg)(t),a=null!==(e=null===s||void 0===s?void 0:s.results)&&void 0!==e?e:[],c=null===s||void 0===s?void 0:s.hasMorePages;const{user:d,isAuthenticated:u}=(0,y.WB)(),v=(0,i.useCallback)((()=>{c&&n((e=>({...e,page:e.page+1})))}),[c]),[h]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{threshold:t=1,root:n=null,rootMargin:o="0px",onIntersect:s}=e,r=(0,i.useRef)(null),[a,l]=(0,i.useState)();return(0,i.useEffect)((()=>{const e=new IntersectionObserver((e=>{const[t]=e;t.isIntersecting&&(null===s||void 0===s||s()),l(t)}),{threshold:t,root:n,rootMargin:o}),i=r.current;return i&&e.observe(i),function(){i&&e.disconnect()}}),[s,n,o,t]),[r,a]}({onIntersect:v}),p=(0,i.useCallback)((e=>{alert("Not implemented! Action: ".concat(null===d||void 0===d?void 0:d.name," is adding movie ").concat(e," to favorites."))}),[null===d||void 0===d?void 0:d.name]);return(0,x.jsxs)(A.Ay,{container:!0,spacing:2,sx:{flexWrap:"nowrap"},children:[(0,x.jsx)(A.Ay,{item:!0,xs:"auto",children:(0,x.jsx)(i.Suspense,{fallback:(0,x.jsx)("span",{children:"Loading filters..."}),children:(0,x.jsx)(b,{onApply:e=>{const t={keywords:e.keywords.map((e=>e.id)),genres:e.genres};n({page:1,filters:t})}})})}),(0,x.jsx)(A.Ay,{item:!0,xs:12,children:(0,x.jsxs)(g.A,{sx:{py:8},maxWidth:"lg",children:[(0,x.jsxs)(A.Ay,{container:!0,spacing:4,children:[!r&&!a.length&&(0,x.jsx)(l.A,{variant:"h6",children:"No movies were found that match your query."}),a.map(((e,t)=>{return(0,x.jsx)(A.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,x.jsx)(m,{id:e.id,title:e.title,overview:e.overview,popularity:e.popularity,image:(n=e.backdrop_path,n&&o?"".concat(null===o||void 0===o?void 0:o.images.base_url,"w780").concat(n):void 0),enableUserActions:u,onAddFavorite:p},e.id)},"".concat(e.id,"-").concat(t));var n}))]}),(0,x.jsx)("div",{ref:h,children:r&&(0,x.jsx)(j.A,{color:"secondary",sx:{mt:3}})})]})})]})}},6520:(e,t,n)=>{var i=n(4994);t.A=void 0;var o=i(n(39)),s=n(579);t.A=(0,o.default)((0,s.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54z"}),"Favorite")}}]);
//# sourceMappingURL=600.db3a479e.chunk.js.map